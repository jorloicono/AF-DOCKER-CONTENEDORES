## 1. Iniciar su registro

Este comando inicia un registro Docker local accesible desde el puerto **5000**.

```bash
docker run -d -p 5000:5000 --restart=always --name registro registry:2
```

**Explicación:**

* `-d`: ejecuta el contenedor en segundo plano.
* `-p 5000:5000`: expone el puerto 5000 del contenedor al host.
* `--restart=always`: reinicia el contenedor automáticamente si se detiene.
* `--name registro`: asigna un nombre al contenedor (registry).
* `registry:2`: usa la imagen oficial de Docker Registry (versión 2).

Ahora tu registro local estará disponible en:
`http://localhost:5000`

---

## 2. Extraer una imagen desde Docker Hub

Antes de subir una imagen al registro local, extrae una desde el registro público de Docker Hub.
Por ejemplo, descarga la imagen de **Ubuntu**:

```bash
docker pull ubuntu:latest
```

Este comando obtiene la versión más reciente (`latest`) de la imagen oficial de Ubuntu desde Docker Hub.

---

## 3. Etiquetar la imagen para apuntar a tu registro local

Antes de subirla a tu propio registro, etiqueta la imagen indicando la nueva ubicación:

```bash
docker tag ubuntu:latest localhost:5000/gfg-image
```

**Explicación:**

* `ubuntu:latest`: nombre y etiqueta de la imagen original.
* `localhost:5000/gfg-image`: destino de la imagen en tu registro local.

La imagen ahora tiene dos etiquetas:

1. `ubuntu:latest` (Docker Hub)
2. `localhost:5000/gfg-image` (registro local)

Puedes verificarlo con:

```bash
docker images
```

---

## 4. Subir la imagen al registro local

Usa el siguiente comando para **empujar (push)** la imagen etiquetada hacia tu registro:

```bash
docker push localhost:5000/gfg-image
```

Este comando sube la imagen al registro local que corre en `localhost:5000`.

---

## 5. Descargar (pull) una imagen desde el registro local

Para comprobar que tu registro funciona correctamente, intenta descargar la imagen que acabas de subir:

```bash
docker pull localhost:5000/gfg-image
```

Esto recuperará la imagen `gfg-image` desde tu registro privado en el puerto 5000.

---

## 6. Detener el registro

Cuando ya no necesites el registro activo, puedes detener el contenedor:

```bash
docker container stop registro
```

🔹 Esto detiene el contenedor con nombre `registro`, pero **no elimina los datos almacenados**.

---

## 🧹 7. Detener y eliminar el registro junto con sus datos

Si deseas **detener completamente** el registro y **eliminar todos sus datos**, usa:

```bash
docker container stop registro && docker container rm -v registro
```

**Explicación:**

* `docker container stop registro`: detiene el contenedor.
* `docker container rm -v registro`: elimina el contenedor junto con los volúmenes asociados.

---

## Resumen de Comandos

| Acción                         | Comando                                                                  | Descripción                                |
| ------------------------------ | ------------------------------------------------------------------------ | ------------------------------------------ |
| Iniciar registro local      | `docker run -d -p 5000:5000 --restart=always --name registro registry:2` | Inicia el servicio de registro local       |
| Extraer imagen pública      | `docker pull ubuntu:latest`                                              | Descarga una imagen desde Docker Hub       |
| Etiquetar imagen           | `docker tag ubuntu:latest localhost:5000/gfg-image`                      | Redirige la imagen al registro local       |
| Subir imagen al registro    | `docker push localhost:5000/gfg-image`                                   | Publica la imagen en tu registro local     |
| Descargar desde el registro | `docker pull localhost:5000/gfg-image`                                   | Descarga la imagen desde el registro local |
| Detener registro            | `docker container stop registro`                                         | Detiene el registro sin borrar los datos   |
| Detener y eliminar          | `docker container stop registro && docker container rm -v registro`      | Detiene y elimina el registro y su volumen |

---

## Conclusión

Con estos comandos puedes:

* Crear tu propio **registro privado local**.
* **Subir** (push) y **descargar** (pull) imágenes desde él.
* Mantener un flujo de trabajo aislado y controlado, sin depender de Docker Hub.

Esto es especialmente útil en entornos corporativos o de desarrollo privado donde las imágenes deben almacenarse de forma segura.

---

¿Quieres que te genere este contenido como un archivo **`Docker-Registry-Commands.md`** descargable (documentación lista para compartir o usar en clase)? Puedo prepararlo automáticamente.
